<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cafeteria Staff Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Supabase Config -->
  <script src="config.js"></script>

  <!-- Page Styles -->
  <link rel="stylesheet" href="css/login.css">
</head>

<body>

  <div class="login-wrapper">

    <div class="login-card" id="loginCard">

      <img src="images/logo.png" class="login-logo" alt="Temple Logo">

      <h2 class="login-title">Cafeteria Staff Portal</h2>
      <p class="login-subtitle">Welcome back! Please sign in to continue.</p>

      <!-- LOGIN FORM -->
      <form id="loginForm" class="form-section">
        <input type="email" id="loginEmail" placeholder="Email" required />

        <div class="password-wrapper">
          <input type="password" id="loginPassword" placeholder="Password" required />
          <span class="togglePassword" data-target="loginPassword">ğŸ‘ï¸</span>
        </div>

        <button type="submit" class="primary-btn">Login</button>
        <button type="button" class="secondary-btn" id="showSignupBtn">Create an Account</button>
      </form>

      <button type="button" class="link-btn" onclick="window.location='forgot.html'">
        Forgot Password?
      </button>

      <!-- SIGNUP FORM -->
      <form id="signupForm" class="form-section hidden">
        <input type="email" id="signupEmail" placeholder="Email" required />

        <div class="password-wrapper">
          <input type="password" id="signupPassword" placeholder="Password" required />
          <span class="togglePassword" data-target="signupPassword">ğŸ‘ï¸</span>
        </div>

        <div class="password-wrapper">
          <input type="password" id="confirmPassword" placeholder="Confirm Password" required />
          <span class="togglePassword" data-target="confirmPassword">ğŸ‘ï¸</span>
        </div>

        <button type="submit" class="primary-btn">Create Account</button>
        <button type="button" class="secondary-btn" id="backToLoginBtn">Back to Login</button>
      </form>

      <div class="divider">or</div>

      <button type="button" class="google-btn" id="googleLoginBtn">
        <span class="google-icon">ğŸŸ¦</span> Sign in with Google
      </button>

    </div>
  </div>

  <!-- LOADING SPINNER -->
  <div id="loadingOverlay" class="overlay hidden">
    <div class="spinner"></div>
  </div>

  <!-- SUCCESS ANIMATION -->
  <div id="successOverlay" class="overlay hidden">
    <div class="success-checkmark">
      <div class="check-icon">
        <span class="icon-line line-tip"></span>
        <span class="icon-line line-long"></span>
        <div class="icon-circle"></div>
        <div class="icon-fix"></div>
      </div>
    </div>
  </div>

  <!-- ERROR POPUP -->
  <div id="errorPopup" class="popup-overlay hidden">
    <div class="popup-box">
      <p id="popupMessage"></p>
      <button class="popup-btn" onclick="closeErrorPopup()">OK</button>
    </div>
  </div>

  <!-- SIGNUP SUCCESS POPUP -->
  <div id="signupSuccessPopup" class="popup-overlay hidden">
    <div class="popup-box">
      <p>
        Your account has been created.<br><br>
        Please contact an admin to assign your role.
      </p>
      <button class="popup-btn" onclick="closeSignupSuccess()">OK</button>
    </div>
  </div>

  <!-- Login Logic -->
  <script src="js/login.js"></script>

</body>
</html>
